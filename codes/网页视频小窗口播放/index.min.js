/**title:网页视频小窗口播放**/var getElement=function(e){return document.querySelector(e)},getElementAll=function(e){return document.querySelectorAll(e)},displayNoneElements=function(e){e&&0<e.length&&e.forEach(e=>e.style.display="none")};function addMethod(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent(`on${t}`,n):e[`on${t}`]=n}function removeMethod(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent(`on${t}`,n):e[`on${t}`]=n}function openSmallWindow(e){document.pictureInPictureEnabled&&!e.disablePictureInPicture?document.pictureInPictureElement||e.requestPictureInPicture():alert("抱歉，当前不支持画中画！")}String.prototype.startWith=function(e){var t=this.length-e.length;return 0<e.length&&0<=t&&0==this.indexOf(e)},String.prototype.endWith=function(e){var t=this.length-e.length;return 0<=t&&this.lastIndexOf(e)==t};var styleId="NewVideoWindow_a_style",aId="NewVideoWindow_a";function createStyle(t){getElement(`#${styleId}`)||((e=document.createElement("style")).id=styleId,e.innerText=".NewVideoWindow_a { position:absolute;top:7px;left:7px;width:100px;height:30px;line-height:30px;text-align:center;background-color:#24aee6;cursor: pointer;font-size:14px;border-radius:5px;text-decoration:none !important;z-index:999999;color:#fff;}",document.head.appendChild(e));var e=getElement(`#${aId}`);e&&e.parentNode.removeChild(e);e=document.createElement("a");return e.id=aId,e.setAttribute("class","NewVideoWindow_a"),e.innerText="小窗口播放",e.href="javascript:void(0);",e.onclick=function(e){openSmallWindow(t)},e}function removeALink(){var e=getElement(`#${aId}`);e&&e.parentNode.removeChild(e)}var addBtn=function(e){console.log("mouseover",e.path[0]);var t=e.path[0];t.parentNode.appendChild(createStyle(t)),e.stopPropagation()},removeBtn=function(e){setTimeout(function(){return removeALink()},3e3),e.stopPropagation()},videos=getElementAll("video");videos&&0<videos.length&&videos.forEach(e=>{addMethod(e,"mouseover",addBtn),addMethod(e,"mouseout",removeBtn)});